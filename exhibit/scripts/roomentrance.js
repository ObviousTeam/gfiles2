function setupRoomEntrance(e,t,a){gameObjects.exhibit.setForegroundAtIndex(1,"menu","welcome",gameVars.halfHeight-55),gameObjects.entrance={lines:[]},gameObjects.entrance.welcomeBtn=new Button(e,a,()=>{if(gameVars.horrorPoint&&!gameObjects.entrance.showedHorrorText){gameObjects.entrance.showedHorrorText=!0,showInfoTextLoop([{text:"Welcome to the Exhibit of Smiles! :)",time:750},{text:"Welcome to the Exhibit of SÌ¶mÌµiÌ·lÌ¸eÌµsÌµ!! :)",time:100},{text:"Welcome to the Exhibit of SÌ¶mÌµiÌ·lÌ¸eÌµsÌµ!! :)",time:25},{text:"Welcome to the Exhibit of SÌ´oÌµrÌ·rÌ·oÌµwÌ´sÌµ!Ì¶ :Ìµ(",time:25},{text:"Welcome to the Exhibit of SÌ·Í›Ì¢mÌ·Í’Í•iÌ·ÌÌœlÌµÌÍ“eÌµÌ¿Ì³sÌµÍ’Íˆ!Ì¸Ì„ÍŽ Ì¶Í‘Ì©:Ì¶Ì›Ì£(Ì¶Í‚Íš",time:25},{text:"Welcome to the Exhibit of Smiles! :)",time:100},{text:"Welcome to the Exhibit of SÌµoÌ¶rÌ¸rÌ·oÌ¸wÌ¸sÌµ!Ì´:|",time:50},{text:"Welcome to the Exhibit of Sorrows   ",time:1750}])}else gameVars.horrorPoint?updateInfoText("Welcome to the Exhibit of Sorrows   "):gameVarsTemp.brokeMusicBox?updateInfoText("Welcome to the Exhibit of Smiles."):updateInfoText("Welcome to the Exhibit of Smiles! :)")},{atlas:"menu",ref:"welcomeText",x:-6,y:gameVars.halfHeight-80,alpha:1},{atlas:"menu",ref:"welcomeTextGlow",preload:!0},{atlas:"menu",ref:"welcomeTextGlow",preload:!0},{atlas:"menu",ref:"welcomeText",preload:!0}),gameObjects.entrance.entryLights1=e.add.image(-3,gameVars.halfHeight-57,"menu","entrancelights1"),gameObjects.entrance.entryLights1.counter=0,gameObjects.entrance.entryLights1.status="brighten",gameObjects.entrance.entryLights2=e.add.image(-3,gameVars.halfHeight-57,"menu","entrancelights2"),gameObjects.entrance.entryLights1.alpha=0,gameObjects.entrance.entryLights2.alpha=0,a.add(gameObjects.entrance.entryLights1),a.add(gameObjects.entrance.entryLights2),gameObjects.entrance.creditsMenu=e.add.image(0,gameVars.halfHeight-55,"menu","credits"),gameObjects.entrance.creditsMenu.alpha=0,a.add(gameObjects.entrance.creditsMenu);let s=e.add.image(-490,-100,"blackPixel").setOrigin(.5,0).setScale(2,200);a.add(s),gameObjects.entrance.lines.push(s);let n=e.add.image(-270,-330,"blackPixel").setOrigin(.5,0).setScale(2,200);a.add(n),gameObjects.entrance.lines.push(n);let r=e.add.image(-20,-280,"blackPixel").setOrigin(.5,0).setScale(2,200);a.add(r),gameObjects.entrance.lines.push(r);let o=e.add.image(320,-190,"blackPixel").setOrigin(.5,0).setScale(2,200);a.add(o),gameObjects.entrance.lines.push(o);let i=e.add.image(500,-310,"blackPixel").setOrigin(.5,0).setScale(2,200);a.add(i),gameObjects.entrance.lines.push(i),gameObjectsTemp.starReplace=createStarButton(s,a,"star1",1),createStarButton(n,a,"star2",2),createStarButton(r,a,"star3",3),createStarButton(o,a,"star2",4),createStarButton(i,a,"star3",5),messageBus.subscribe("exhibitMove",e=>{1===e?gameVars.horrorPoint?gameObjectsTemp.entranceFlicker||(gameObjectsTemp.entranceFlicker=!0,setTimeout(()=>{gameObjects.generalDarkness.alpha=.04,setTimeout(()=>{gameObjects.generalDarkness.alpha=0,setTimeout(()=>{gameObjects.generalDarkness.alpha=.07,setTimeout(()=>{gameObjects.generalDarkness.alpha=0,gameVarsTemp.startDarkFlicker=!0},20)},1800)},150)},2400)):(tweenVolume("gladiator0",.85),gameVars.darkPoint&&(tweenVolume("gladiator1",0),tweenVolume("gladiator2",1))):0===e&&(gameVars.horrorPoint||(tweenVolume("gladiator0",1),gameVars.darkPoint&&(tweenVolume("gladiator1",0,1500),tweenVolume("gladiator2",0,1500),setTimeout(()=>{gameObjects.musicBoxNote.alpha=0,gameObjects.musicBoxNote2.alpha=0,gameObjectsTemp.stoppedMusic=!0,gameObjects.sounds.gladiator1.stop(),gameObjects.sounds.gladiator2.stop()},1500))))})}function createStarButton(e,t,a,s){let n;return n=new Button(globalScene,t,()=>{if(!n.isAnimating){if(n.isAnimating=!0,gameVars.horrorPoint)if(gameVarsTemp.pauseStarScare)gameVarsTemp.pauseStarScare=!1;else{gameVarsTemp.pauseStarScare=!0,n.destroy();let a="starx"+s,r="shout"+s,o=globalScene.add.image(e.x,e.y+400,"menu",a);t.add(o),playDeathRattle(o),playSound(r)}n.tweenScale({scaleX:-1*n.getScaleX(),duration:700+300*Math.random(),ease:"Sine.easeInOut",onComplete:()=>{n.isAnimating=!1}})}},{atlas:"menu",ref:a,x:e.x,y:e.y+400},{atlas:"menu",ref:a})}function showInfoTextLoop(e,t=0,a=!0){if(e.length>0){a||playSound("lidslam");let s=e.shift(),n=t+s.time,r=3500-n;updateInfoText(s.text,r,a),setTimeout(()=>{showInfoTextLoop(e,n,a)},s.time)}}function playDeathRattle(e,t=1){globalScene.tweens.timeline({targets:e,tweens:[{scaleY:1.2,duration:40,ease:"Cubic.easeOut"},{scaleY:.8,duration:80,ease:"Cubic.easeInOut"},{scaleY:1.25,duration:80,ease:"Cubic.easeInOut"},{scaleY:.8,duration:80,ease:"Cubic.easeInOut"},{scaleY:1.25,duration:80,ease:"Cubic.easeInOut"},{scaleY:.8,duration:80,ease:"Cubic.easeInOut"},{scaleY:1.25,duration:80,ease:"Cubic.easeInOut",onComplete:()=>{e.destroy()}}]})}
